(this.webpackJsonpmapapp=this.webpackJsonpmapapp||[]).push([[0],{28:function(e,t,o){e.exports=o.p+"static/media/garbage.24ad147d.svg"},29:function(e,t,o){e.exports=o.p+"static/media/box.638e008a.svg"},30:function(e,t,o){e.exports=o.p+"static/media/circle.1e2d0595.svg"},31:function(e,t,o){e.exports=o.p+"static/media/polygon.df01d317.svg"},34:function(e,t,o){e.exports=o(96)},39:function(e,t,o){},95:function(e,t,o){},96:function(e,t,o){"use strict";o.r(t);var a,n=o(0),l=o.n(n),i=o(23),r=o.n(i),c=(o(39),o(13)),s=o(24),d=o(25),u=o(32),m=o(26),p=o(33),g=o(12),y=o.n(g),f=o(27),h=o.n(f),C=o(28),v=o.n(C),E=o(29),b=o.n(E),x=o(30),k=o.n(x),N=o(31),w=o.n(N);y.a.accessToken="pk.eyJ1IjoiYWN0bGlrZXdpbGwiLCJhIjoiY2syZncxNWFlMGplejNvczUwd2xzYnEybyJ9.-FdQ-31EaIvCeeYuX-p5ew";var L=function(e){function t(e){var o;return Object(s.a)(this,t),(o=Object(u.a)(this,Object(m.a)(t).call(this,e))).setDrawingMode=function(e){o.setState({type:e}),a.on("click",o.setCoordinates)},o.clickHandler=function(e){var t=e.currentTarget.id,a=o.state.type;a?a===t&&o[a]():o.setDrawingMode(t)},o.plot=function(e){a.getLayer("plotLayer")?(a.removeLayer("plotLayer"),a.removeSource("plotLayer"),o.draw("MultiPoint",e,"plotLayer","circle",{"circle-color":"#002080","circle-radius":5})):o.draw("MultiPoint",e,"plotLayer","circle",{"circle-color":"#002080","circle-radius":5})},o.setCoordinates=function(e){a.getCanvas().style.cursor="crosshair";var t=e.lngLat;o.setState((function(e){return{plotCoordinates:e.plotCoordinates.concat([[t.lng,t.lat]])}})),o.plot(o.state.plotCoordinates)},o.Polygon=function(){var e=o.state,t=e.plotCoordinates,n=e.type;if(t.length>2&&"Polygon"===n&&!a.getLayer("polygonLayer")){var l=t[0],i=[[].concat(Object(c.a)(t),[Object(c.a)(l)])];o.setState({polygonCoordinates:i},(function(){var e=o.state.polygonCoordinates;o.draw(n,e,"polygonLayer","fill",{"fill-color":"#3366ff","fill-opacity":.5,"fill-outline-color":"#002080"})})),a.off("click",o.setCoordinates)}},o.Circle=function(){var e=o.state,t=e.plotCoordinates,n=e.type;if(2===t.length&&"Circle"===n&&!a.getLayer("circleLayer")){var l=1e3*h.a.distance(t[0],t[1],"kilometers"),i={center:t[0],radius:l};o.setState({circleCoordinates:i},(function(){var e,t,a=o.state.circleCoordinates;o.draw("Point",a.center,"circleLayer","circle",{"circle-color":"#3366ff","circle-opacity":.5,"circle-stroke-color":"#002080","circle-radius":{stops:[[0,0],[20,(e=a.radius,t=a.center[1],e/.075/Math.cos(t*Math.PI/180))]],base:2}})})),a.off("click",o.setCoordinates)}},o.BoundingBox=function(){var e=o.state,t=e.plotCoordinates,n=e.type;if(2===t.length&&"BoundingBox"===n&&!a.getLayer("boundingBoxLayer")){var l=[t[1][0],t[0][1]],i=[t[0][0],t[1][1]],r=t.slice();r.splice(1,0,l),r.splice(3,0,i),o.setState({boundingBoxCoordinates:r},(function(){var e=o.state.boundingBoxCoordinates;o.plot(e),o.draw("Polygon",[e],"boundingBoxLayer","fill",{"fill-color":"#3366ff","fill-opacity":.5,"fill-outline-color":"#002080"})})),a.off("click",o.setCoordinates)}},o.draw=function(e,t,o,n,l){a.addLayer({id:o,type:n,source:{type:"geojson",data:{type:"Feature",geometry:{type:e,coordinates:t}}},layout:{},paint:l})},o.clear=function(){["plotLayer","polygonLayer","circleLayer","boundingBoxLayer"].map((function(e){a.getLayer(e)&&(a.removeLayer(e),a.removeSource(e))})),o.setState((function(){return{plotCoordinates:[],boundingBoxCoordinates:null,circleCoordinates:null,polygonCoordinates:null,type:null}})),a.off("click",o.setCoordinates)},o.infoText={Circle:"Click on a point on the map to set the center, then click on another point to set the radius. Click on the Circle Tool button again to complete. Requires only two Points. Use the Clear button to reset the tools.",BoundingBox:"Click on two points on the map to set the corner edges of the bounding box and then click the Polygon tool again to close the shape. Requires only two Points. Use the Clear button to reset the tools.",Polygon:"Click on the map to set polygon points and then click the Polygon Tool again to close the shape. Use the Clear button to reset the tools.",null:"Click on a tool to set the drawing mode."},o.state={lng:36.81667,lat:-1.28333,zoom:10,lineCoordinates:[],plotCoordinates:[],boundingBoxCoordinates:null,circleCoordinates:null,polygonCoordinates:null,type:null},o}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){document.title="Draw on a Map",a=new y.a.Map({container:document.getElementById("map"),style:"mapbox://styles/mapbox/streets-v11",center:[this.state.lng,this.state.lat],zoom:this.state.zoom}),document.title="Draw on a Map"}},{key:"render",value:function(){var e=this.state,t=e.type,o=e.boundingBoxCoordinates,a=e.circleCoordinates,n=e.polygonCoordinates;e.dr;return l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"header"}),l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"grid"},l.a.createElement("div",{className:"map-style",id:"map"}),l.a.createElement("div",{className:"tools"},l.a.createElement("h4",{className:"tools-heading"},"Tools:"),l.a.createElement("div",{className:"drawing-controls"},l.a.createElement("button",{className:"Circle"===t?"active":"",onClick:this.clickHandler,id:"Circle"},l.a.createElement("span",null,l.a.createElement("img",{src:k.a,alt:"circle-icon"}))),l.a.createElement("button",{className:"Polygon"===t?"active":"",onClick:this.clickHandler,id:"Polygon"},l.a.createElement("span",null,l.a.createElement("img",{src:w.a,alt:"polygon-icon"}))),l.a.createElement("button",{className:"BoundingBox"===t?"active":"",onClick:this.clickHandler,id:"BoundingBox"},l.a.createElement("span",null,l.a.createElement("img",{src:b.a,alt:"boxIcon"}))),l.a.createElement("button",{onClick:this.clear,id:"clear"},l.a.createElement("span",null,l.a.createElement("img",{src:v.a,alt:"clear-icon"}))))),l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"info-box"},l.a.createElement("h5",{className:"info-heading"},"Drawing Mode: "),l.a.createElement("p",{className:"info-text"},l.a.createElement("code",null,t))),l.a.createElement("div",{className:"info-box"},l.a.createElement("h5",{className:"info-heading"},"Info:"),l.a.createElement("p",{className:"info-text"},l.a.createElement("code",null,this.infoText[t]))),l.a.createElement("div",{className:"info-box"},l.a.createElement("h5",{className:"info-heading"},"Coordinates:"),a?l.a.createElement("div",{className:"info-text"},l.a.createElement("p",null,JSON.stringify({circleCoordinates:a},null,4))):null,o?l.a.createElement("div",{className:"info-text"},l.a.createElement("p",null,JSON.stringify({boundingBoxCoordinates:o},null,4))):null,n?l.a.createElement("div",{className:"info-text"},l.a.createElement("p",null,JSON.stringify({polygonCoordinates:n},null,4))):null)))))}}]),t}(n.Component);o(94),o(95);var B=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",null,l.a.createElement(L,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.a574130d.chunk.js.map